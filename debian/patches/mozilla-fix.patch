diff -Nur libspectre-0.2.0/libspectre/ps.c libspectre-0.2.0.new/libspectre/ps.c
--- libspectre-0.2.0/libspectre/ps.c	2007-12-08 11:38:09.000000000 -0500
+++ libspectre-0.2.0.new/libspectre/ps.c	2008-07-11 07:33:57.365383008 -0400
@@ -950,6 +949,19 @@
 	doc->endsetup = position;
 	doc->lensetup = section_len - line_len;
     }
+    /* BEGIN Mozilla fix. Some documents generated by mozilla
+       have resources between %%EndProlog and the first
+       page and there isn't any setup section. So instead
+       of including such resources in the first page,
+       we add them here as an implicit setup section
+    */
+    else if (doc->endprolog != position) {
+      doc->beginsetup = beginsection;
+      doc->endsetup = position;
+      doc->lensetup = section_len - line_len;
+      beginsection = 0;
+    }
+    /* END Mozilla fix */
 
     /* BEGIN Windows NT fix ###jp###
        Mark Pfeifer (pfeiferm%ppddev@comet.cmis.abbott.com) told me
